<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Usage &mdash; CmonCrawl 1.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=8d563738"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=f281be69"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Command Line Interface" href="cli/index.html" />
    <link rel="prev" title="Welcome to CommonCrawl Extractor’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            CmonCrawl
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#workflow">Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#aws">AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#be-nice-to-others">Be nice to others</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cli/index.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="extraction/index.html">Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="prog_guide/index.html">Programming Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc/index.html">Miscellaneous</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CmonCrawl</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h1>
<p>The library is designed to make interaction with CommonCrawl’s indexes simple,
while also providing a framework for extracting data from the downloaded
HTMLs.</p>
<p>You can use the library in two ways:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="cli/cli.html#cli"><span class="std std-ref">Command Line Interface</span></a> - This should suffice for 80% of the use cases. Restricted, but easy to use.</p></li>
<li><p><a class="reference internal" href="prog_guide/practice.html#custom-pipeline"><span class="std std-ref">How to extract from Common Crawl (practice)</span></a> - If you need more control over the process, you can use the library programmatically.</p></li>
</ol>
<section id="workflow">
<h2>Workflow<a class="headerlink" href="#workflow" title="Link to this heading"></a></h2>
<p>In order to download from CommonCrawl you first need to find the pointers to the data you want to download.
Search for the pointers is done over the specific files called indexes. The indexes don’t contain the data itself,
but rather metadata and pointers to the data. We call these pointers domain records (see <a class="reference internal" href="misc/domain_record.html#domain-record"><span class="std std-ref">Domain Record</span></a>).
Once you have the domain records you can download the data from the CommonCrawl’s S3 bucket. Since you might want
to extract only specific data from the downloaded HTMLs, you can also specify a list of extractors to be run on the
downloaded HTMLs.</p>
<p>The library thus supports the two step workflow:</p>
<ol class="arabic simple">
<li><p>First download domain records from the indexes.</p></li>
<li><p>Download and extract the domain records.</p></li>
</ol>
</section>
<section id="aws">
<h2>AWS<a class="headerlink" href="#aws" title="Link to this heading"></a></h2>
<p>The CommonCrawl are stored on AWS S3 us-east-1 bucket. The CommonCrawl allows you to access the data using following methods:</p>
<ol class="arabic simple">
<li><p>Gateway - you can download the data throught CloudFlare HTTP Gateway. You will not need AWS credentials, but it is also the slowest.</p></li>
<li><p>S3 - you can download the data directly from S3. You will need AWS credentials, but it is also the fastest.</p></li>
</ol>
<p>Additionaly, the CommonCrawl provides two ways to to query the data:</p>
<ol class="arabic simple">
<li><p>CommonCrawl Index - Free, but more limited and incrdibly slow.</p></li>
<li><p>AWS Athena - Paid, but much faster, you can use SQL to query the data.</p></li>
</ol>
<p>The library supports all of these methods. We recommend using S3/AWS Athena combination. Refer to the following image to see the differences:</p>
<img alt="When to use this library" src="_images/when_to_use.drawio.png" />
</section>
<section id="be-nice-to-others">
<h2>Be nice to others<a class="headerlink" href="#be-nice-to-others" title="Link to this heading"></a></h2>
<p>If you use the library programmatically or through CLI,
you will find, that you can specify the number of threads to use.
Please be aware that by default we limit the number of requests per thread
to 20/s. This is to prevent overloading the CommonCrawl’s servers. If you
plan to use more threads, be considerate to others and don’t set the number
of threads too high.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to CommonCrawl Extractor’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cli/index.html" class="btn btn-neutral float-right" title="Command Line Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Hynek Kydlíček.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>